import{r as Ve}from"./react-vendor-BYNZdcZL.js";(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"fb4299fa544401e75e047a7d3c1f4008fc7138d1"}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e4651dcd-d15a-43cb-811c-7e389ab309c8",e._sentryDebugIdIdentifier="sentry-dbid-e4651dcd-d15a-43cb-811c-7e389ab309c8")})()}catch{}const Bi=!1,E=globalThis,_e="10.3.0";function Re(){return Ut(E),E}function Ut(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||_e,t[_e]=t[_e]||{}}function Bt(e,t,n=E){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[_e]=r[_e]||{};return s[e]||(s[e]=t())}const as=["debug","info","warn","error","log","assert","trace"],Ct={};function jt(e){if(!("console"in E))return e();const t=E.console,n={},r=Object.keys(Ct);r.forEach(s=>{const i=Ct[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function ji(){Mn().enabled=!0}function qi(){Mn().enabled=!1}function Wi(){return Mn().enabled}function Gi(...e){Ln("log",...e)}function zi(...e){Ln("warn",...e)}function Vi(...e){Ln("error",...e)}function Ln(e,...t){}function Mn(){return{enabled:!1}}const Dn={enable:ji,disable:qi,isEnabled:Wi,log:Gi,warn:zi,error:Vi},cs=50,Te="?",ar=/\(error: (.*)\)/,cr=/captureMessage|captureException/;function us(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let c=o[a];c.length>1024&&(c=c.slice(0,1024));const u=ar.test(c)?c.replace(ar,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const f=d(u);if(f){i.push(f);break}}if(i.length>=cs+s)break}}return Yi(i.slice(s))}}function Xi(e){return Array.isArray(e)?us(...e):e}function Yi(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(lt(t).function||"")&&t.pop(),t.reverse(),cr.test(lt(t).function||"")&&(t.pop(),cr.test(lt(t).function||"")&&t.pop()),t.slice(0,cs).map(n=>({...n,filename:n.filename||lt(t).filename,function:n.function||Te}))}function lt(e){return e[e.length-1]||{}}const Zt="<anonymous>";function be(e){try{return!e||typeof e!="function"?Zt:e.name||Zt}catch{return Zt}}function ur(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Et={},dr={};function le(e,t){Et[e]=Et[e]||[],Et[e].push(t)}function pe(e,t){if(!dr[e]){dr[e]=!0;try{t()}catch{}}}function B(e,t){const n=e&&Et[e];if(n)for(const r of n)try{r(t)}catch{}}let Qt=null;function ds(e){const t="error";le(t,e),pe(t,Ki)}function Ki(){Qt=E.onerror,E.onerror=function(e,t,n,r,s){return B("error",{column:r,error:s,line:n,msg:e,url:t}),Qt?Qt.apply(this,arguments):!1},E.onerror.__SENTRY_INSTRUMENTED__=!0}let en=null;function fs(e){const t="unhandledrejection";le(t,e),pe(t,Ji)}function Ji(){en=E.onunhandledrejection,E.onunhandledrejection=function(e){return B("unhandledrejection",e),en?en.apply(this,arguments):!0},E.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const ls=Object.prototype.toString;function qt(e){switch(ls.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return J(e,Error)}}function Me(e,t){return ls.call(e)===`[object ${t}]`}function ps(e){return Me(e,"ErrorEvent")}function fr(e){return Me(e,"DOMError")}function Zi(e){return Me(e,"DOMException")}function K(e){return Me(e,"String")}function Fn(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Ke(e){return e===null||Fn(e)||typeof e!="object"&&typeof e!="function"}function Je(e){return Me(e,"Object")}function Wt(e){return typeof Event<"u"&&J(e,Event)}function Qi(e){return typeof Element<"u"&&J(e,Element)}function eo(e){return Me(e,"RegExp")}function tt(e){return!!(e?.then&&typeof e.then=="function")}function to(e){return Je(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function J(e,t){try{return e instanceof t}catch{return!1}}function ms(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function hs(e){return typeof Request<"u"&&J(e,Request)}const Hn=E,no=80;function z(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||no;for(;n&&i++<r&&(u=ro(n,d),!(u==="html"||i>1&&o+s.length*c+u.length>=f));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function ro(e,t){const n=e,r=[];if(!n?.tagName)return"";if(Hn.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t?.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s?.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&K(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function nt(){try{return Hn.document.location.href}catch{return""}}function gs(e){if(!Hn.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function wt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Nt(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{ms(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Tt(e,t,n=!1){return K(e)?eo(t)?t.test(e):K(t)?n?e===t:e.includes(t):!1:!1}function se(e,t=[],n=!1){return t.some(r=>Tt(e,r,n))}function D(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&_s(s,r);try{e[t]=s}catch{}}function H(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{}}function _s(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,H(e,"__sentry_original__",t)}catch{}}function $n(e){return e.__sentry_original__}function Ss(e){if(qt(e))return{message:e.message,name:e.name,stack:e.stack,...pr(e)};if(Wt(e)){const t={type:e.type,target:lr(e.target),currentTarget:lr(e.currentTarget),...pr(e)};return typeof CustomEvent<"u"&&J(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function lr(e){try{return Qi(e)?z(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function pr(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function so(e,t=40){const n=Object.keys(Ss(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return wt(r,t);for(let s=n.length;s>0;s--){const i=n.slice(0,s).join(", ");if(!(i.length>t))return s===n.length?i:wt(i,t)}return""}function io(){const e=E;return e.crypto||e.msCrypto}function j(e=io()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function ys(e){return e.exception?.values?.[0]}function oo(e){const{message:t,event_id:n}=e;if(t)return t;const r=ys(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function hn(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function ie(e,t){const n=ys(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s?.data,...t.data};n.mechanism.data=i}}function mr(e){if(ao(e))return!0;try{H(e,"__sentry_captured__",!0)}catch{}return!1}function ao(e){try{return e.__sentry_captured__}catch{}}const Es=1e3;function ke(){return Date.now()/Es}function co(){const{performance:e}=E;if(!e?.now||!e.timeOrigin)return ke;const t=e.timeOrigin;return()=>(t+e.now())/Es}let hr;function N(){return(hr??(hr=co()))()}let tn;function uo(){const{performance:e}=E;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing?.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return i||u?s<=c?[e.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[r,"dateNow"]}function $(){return tn||(tn=uo()),tn[0]}function fo(e){const t=N(),n={sid:j(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>po(n)};return e&&Ne(n,e),n}function Ne(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||N(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:j()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function lo(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Ne(e,n)}function po(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function rt(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=rt(r[s],t[s],n-1));return r}function oe(){return j()}function st(){return j().substring(16)}const gn="_sentrySpan";function Pe(e,t){t?H(e,gn,t):delete e[gn]}function Pt(e){return e[gn]}const mo=100;class V{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:oe(),sampleRand:Math.random()}}clone(){const t=new V;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Pe(t,Pt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ne(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof V?n.getScopeData():Je(n)?t:void 0,{tags:s,extra:i,user:o,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},o&&Object.keys(o).length&&(this._user=o),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Pe(this,void 0),this._attachments=[],this.setPropagationContext({traceId:oe(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:mo;if(r<=0)return this;const s={timestamp:ke(),...t,message:t.message?wt(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Pt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=rt(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||j();if(!this._client)return r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r?.event_id||j();if(!this._client)return s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n?.event_id||j();return this._client&&this._client.captureEvent(t,{...n,event_id:r},this),r}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function ho(){return Bt("defaultCurrentScope",()=>new V)}function go(){return Bt("defaultIsolationScope",()=>new V)}class _o{constructor(t,n){let r;t?r=t:r=new V;let s;n?s=n:s=new V,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return tt(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Oe(){const e=Re(),t=Ut(e);return t.stack=t.stack||new _o(ho(),go())}function So(e){return Oe().withScope(e)}function yo(e,t){const n=Oe();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function gr(e){return Oe().withScope(()=>e(Oe().getIsolationScope()))}function Eo(){return{withIsolationScope:gr,withScope:So,withSetScope:yo,withSetIsolationScope:(e,t)=>gr(t),getCurrentScope:()=>Oe().getScope(),getIsolationScope:()=>Oe().getIsolationScope()}}function De(e){const t=Ut(e);return t.acs?t.acs:Eo()}function T(){const e=Re();return De(e).getCurrentScope()}function Q(){const e=Re();return De(e).getIsolationScope()}function To(){return Bt("globalScope",()=>new V)}function Ae(...e){const t=Re(),n=De(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function S(){return T().getClient()}function bo(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,i={trace_id:n,span_id:s||st()};return r&&(i.parent_span_id=r),i}const G="sentry.source",Un="sentry.sample_rate",Ts="sentry.previous_trace_sample_rate",Z="sentry.op",C="sentry.origin",Ot="sentry.idle_span_finish_reason",it="sentry.measurement_unit",ot="sentry.measurement_value",_r="sentry.custom_span_name",Bn="sentry.profile_id",Fe="sentry.exclusive_time",Io="sentry.link.type",vo=0,bs=1,A=2;function Ro(e){if(e<400&&e>=100)return{code:bs};if(e>=400&&e<500)switch(e){case 401:return{code:A,message:"unauthenticated"};case 403:return{code:A,message:"permission_denied"};case 404:return{code:A,message:"not_found"};case 409:return{code:A,message:"already_exists"};case 413:return{code:A,message:"failed_precondition"};case 429:return{code:A,message:"resource_exhausted"};case 499:return{code:A,message:"cancelled"};default:return{code:A,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:A,message:"unimplemented"};case 503:return{code:A,message:"unavailable"};case 504:return{code:A,message:"deadline_exceeded"};default:return{code:A,message:"internal_error"}}return{code:A,message:"unknown_error"}}function Is(e,t){e.setAttribute("http.response.status_code",t);const n=Ro(t);n.message!=="unknown_error"&&e.setStatus(n)}const vs="_sentryScope",Rs="_sentryIsolationScope";function ko(e,t,n){e&&(H(e,Rs,n),H(e,vs,t))}function xt(e){return{scope:e[vs],isolationScope:e[Rs]}}const jn="sentry-",Ao=/^sentry-/,Co=8192;function ks(e){const t=No(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(Ao)){const o=s.slice(jn.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function wo(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${jn}${r}`]=s),n),{});return Po(t)}function No(e){if(!(!e||!K(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Sr(n);return Object.entries(r).forEach(([s,i])=>{t[s]=i}),t},{}):Sr(e)}function Sr(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Po(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>Co?t:o},"")}const Oo=/^o(\d+)\./,xo=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function He(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function Lo(e){const t=xo.exec(e);if(!t){jt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i="",o="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const f=u.match(/^\d+/);f&&(u=f[0])}return As({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function As(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Mo(e){return!0}function Do(e){return e.match(Oo)?.[1]}function Fo(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=Do(n)),r}function Cs(e){const t=typeof e=="string"?Lo(e):As(e);if(!(!t||!Mo()))return t}function Ze(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const ws=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ho(e){if(!e)return;const t=e.match(ws);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function $o(e,t){const n=Ho(e),r=ks(t);if(!n?.traceId)return{traceId:oe(),sampleRand:Math.random()};const s=Uo(n,r);r&&(r.sample_rand=s.toString());const{traceId:i,parentSpanId:o,parentSampled:a}=n;return{traceId:i,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:s}}function Ns(e=oe(),t=st(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Uo(e,t){const n=Ze(t?.sample_rand);if(n!==void 0)return n;const r=Ze(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const Ps=0,qn=1;let yr=!1;function Bo(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:a,links:c}=b(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:s,status:o,origin:a,links:c}}function jo(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:b(e).parent_span_id,i=xt(e).scope,o=r?i?.getPropagationContext().propagationSpanId||st():t;return{parent_span_id:s,span_id:o,trace_id:n}}function qo(e){const{traceId:t,spanId:n}=e.spanContext(),r=$e(e);return Ns(t,n,r)}function Os(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:i})=>({span_id:t,trace_id:n,sampled:r===qn,attributes:i,...s}))}function Se(e){return typeof e=="number"?Er(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Er(e.getTime()):N()}function Er(e){return e>9999999999?e/1e3:e}function b(e){if(Go(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(Wo(e)){const{attributes:r,startTime:s,name:i,endTime:o,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:Se(s),timestamp:Se(o)||void 0,status:xs(a),op:r[Z],origin:r[C],links:Os(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Wo(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Go(e){return typeof e.getSpanJSON=="function"}function $e(e){const{traceFlags:t}=e.spanContext();return t===qn}function xs(e){if(!(!e||e.code===vo))return e.code===bs?"ok":e.message||"unknown_error"}const ye="_sentryChildSpans",_n="_sentryRootSpan";function Ls(e,t){const n=e[_n]||e;H(t,_n,n),e[ye]?e[ye].add(t):H(e,ye,new Set([t]))}function zo(e,t){e[ye]&&e[ye].delete(t)}function bt(e){const t=new Set;function n(r){if(!t.has(r)&&$e(r)){t.add(r);const s=r[ye]?Array.from(r[ye]):[];for(const i of s)n(i)}}return n(e),Array.from(t)}function F(e){return e[_n]||e}function U(){const e=Re(),t=De(e);return t.getActiveSpan?t.getActiveSpan():Pt(T())}function Sn(){yr||(jt(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),yr=!0)}let Tr=!1;function Vo(){if(Tr)return;function e(){const t=U(),n=t&&F(t);n&&n.setStatus({code:A,message:"internal_error"})}e.tag="sentry_tracingErrorCallback",Tr=!0,ds(e),fs(e)}function ae(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||S()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const Wn="production",Ms="_frozenDsc";function It(e,t){H(e,Ms,t)}function Ds(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||Wn,release:n.release,public_key:r,trace_id:e,org_id:Fo(t)};return t.emit("createDsc",s),s}function Fs(e,t){const n=t.getPropagationContext();return n.dsc||Ds(n.traceId,e)}function ce(e){const t=S();if(!t)return{};const n=F(e),r=b(n),s=r.data,i=n.spanContext().traceState,o=i?.get("sentry.sample_rate")??s[Un]??s[Ts];function a(m){return(typeof o=="number"||typeof o=="string")&&(m.sample_rate=`${o}`),m}const c=n[Ms];if(c)return a(c);const u=i?.get("sentry.dsc"),d=u&&ks(u);if(d)return a(d);const f=Ds(e.spanContext().traceId,t),p=s[G],l=r.description;return p!=="url"&&l&&(f.transaction=l),ae()&&(f.sampled=String($e(n)),f.sample_rand=i?.get("sentry.sample_rand")??xt(n).scope?.getPropagationContext().sampleRand.toString()),a(f),t.emit("createDsc",f,n),f}class ue{constructor(t={}){this._traceId=t.traceId||oe(),this._spanId=t.spanId||st()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Ps}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function Y(e,t=100,n=1/0){try{return yn("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Hs(e,t=3,n=100*1024){const r=Y(e,t);return Jo(r)>n?Hs(e,t-1,n):r}function yn(e,t,n=1/0,r=1/0,s=Zo()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=Xo(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const l=u.toJSON();return yn("",l,c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const p=Ss(t);for(const l in p){if(!Object.prototype.hasOwnProperty.call(p,l))continue;if(f>=r){d[l]="[MaxProperties ~]";break}const m=p[l];d[l]=yn(l,m,c-1,r,s),f++}return o(t),d}function Xo(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(ms(t))return"[VueViewModel]";if(to(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${be(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Yo(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Yo(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function Ko(e){return~-encodeURI(e).split(/%..|./).length}function Jo(e){return Ko(JSON.stringify(e))}function Zo(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Ue(e,t=[]){return[e,t]}function Qo(e,t){const[n,r]=e;return[n,[...r,t]]}function br(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function En(e){const t=Ut(E);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function ea(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[En(r),i]:r.push(typeof i=="string"?En(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Y(a))}s(c)}}return typeof r=="string"?r:ta(r)}function ta(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function na(e){return[{type:"span"},e]}function ra(e){const t=typeof e.data=="string"?En(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const sa={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Ir(e){return sa[e]}function $s(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function ia(e,t,n,r){const s=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:He(r)},...s&&{trace:s}}}function Tn(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(aa(n)){if(Tt(e.description,n))return!0;continue}if(!n.name&&!n.op)continue;const r=n.name?Tt(e.description,n.name):!0,s=n.op?e.op&&Tt(e.op,n.op):!0;if(r&&s)return!0}return!1}function oa(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function aa(e){return typeof e=="string"||e instanceof RegExp}function ca(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function ua(e,t,n,r){const s=$s(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:He(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ue(i,[o])}function da(e,t,n,r){const s=$s(n),i=e.type&&e.type!=="replay_event"?e.type:"event";ca(e,n?.sdk);const o=ia(e,s,r,t);return delete e.sdkProcessingMetadata,Ue(o,[[{type:i},e]])}function fa(e,t){function n(l){return!!l.trace_id&&!!l.public_key}const r=ce(e[0]),s=t?.getDsn(),i=t?.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:He(s)}},{beforeSendSpan:a,ignoreSpans:c}=t?.getOptions()||{},u=c?.length?e.filter(l=>!Tn(b(l),c)):e,d=e.length-u.length;d&&t?.recordDroppedEvent("before_send","span",d);const f=a?l=>{const m=b(l),g=a(m);return g||(Sn(),m)}:b,p=[];for(const l of u){const m=f(l);m&&p.push(na(m))}return Ue(o,p)}function la(e,t,n,r=U()){const s=r&&F(r);s&&s.addEvent(e,{[ot]:t,[it]:n})}function vr(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[it],i=r[ot];typeof s=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:s})}),t}const Rr=1e3;class Gt{constructor(t={}){this._traceId=t.traceId||oe(),this._spanId=t.spanId||st(),this._startTime=t.startTimestamp||N(),this._links=t.links,this._attributes={},this.setAttributes({[C]:"manual",[Z]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?qn:Ps}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Se(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(G,"custom"),this}end(t){this._endTime||(this._endTime=Se(t),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Z],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:xs(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[C],profile_id:this._attributes[Bn],exclusive_time:this._attributes[Fe],measurements:vr(this._events),is_segment:this._isStandaloneSpan&&F(this)===this||void 0,segment_id:this._isStandaloneSpan?F(this).spanContext().spanId:void 0,links:Os(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){const s=kr(n)?n:r||N(),i=kr(n)?{}:n||{},o={name:t,time:Se(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=S();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===F(this)))return;if(this._isStandaloneSpan){this._sampled?ma(fa([this],t)):t&&t.recordDroppedEvent("sample_rate","span");return}const r=this._convertSpanToTransaction();r&&(xt(this).scope||T()).captureEvent(r)}_convertSpanToTransaction(){if(!Ar(b(this)))return;this._name||(this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=xt(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const i=bt(this).filter(d=>d!==this&&!pa(d)).map(d=>b(d)).filter(Ar),o=this._attributes[G];delete this._attributes[_r],i.forEach(d=>{delete d.data[_r]});const a={contexts:{trace:Bo(this)},spans:i.length>Rr?i.sort((d,f)=>d.start_timestamp-f.start_timestamp).slice(0,Rr):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:ce(this)},request:r,...o&&{transaction_info:{source:o}}},c=vr(this._events);return c&&Object.keys(c).length&&(a.measurements=c),a}}function kr(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Ar(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function pa(e){return e instanceof Gt&&e.isStandaloneSpan()}function ma(e){const t=S();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function ha(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return ga(r,t,n)}function ga(e,t,n){return tt(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function _a(e,t,n){if(!ae(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const i=Ze(s);return i===void 0?[!1]:i?[n<i,i,r]:[!1,i,r]}const Us="__SENTRY_SUPPRESS_TRACING__";function Sa(e,t){const n=zn();if(n.startSpan)return n.startSpan(e,t);const r=js(e),{forceTransaction:s,parentSpan:i,scope:o}=e,a=o?.clone();return Ae(a,()=>Ea(i)(()=>{const u=T(),d=qs(u,i),p=e.onlyIfParent&&!d?new ue:Bs({parentSpan:d,spanArguments:r,forceTransaction:s,scope:u});return Pe(u,p),ha(()=>t(p),()=>{const{status:l}=b(p);p.isRecording()&&(!l||l==="ok")&&p.setStatus({code:A,message:"internal_error"})},()=>{p.end()})}))}function Be(e){const t=zn();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=js(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?o=>Ae(e.scope,o):s!==void 0?o=>Gn(s,o):o=>o())(()=>{const o=T(),a=qs(o,s);return e.onlyIfParent&&!a?new ue:Bs({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function Gn(e,t){const n=zn();return n.withActiveSpan?n.withActiveSpan(e,t):Ae(r=>(Pe(r,e||void 0),t(r)))}function Bs({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ae()){const o=new ue;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...ce(o)};It(o,a)}return o}const s=Q();let i;if(e&&!n)i=ya(e,r,t),Ls(e,i);else if(e){const o=ce(e),{traceId:a,spanId:c}=e.spanContext(),u=$e(e);i=Cr({traceId:a,parentSpanId:c,...t},r,u),It(i,o)}else{const{traceId:o,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};i=Cr({traceId:o,parentSpanId:c,...t},r,u),a&&It(i,a)}return ko(i,r,s),i}function js(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Se(e.startTime),delete r.startTime,r}return n}function zn(){const e=Re();return De(e)}function Cr(e,t,n){const r=S(),s=r?.getOptions()||{},{name:i=""}=e,o={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,c=o.spanAttributes,u=t.getPropagationContext(),[d,f,p]=t.getScopeData().sdkProcessingMetadata[Us]?[!1]:_a(s,{name:i,parentSampled:a,attributes:c,parentSampleRate:Ze(u.dsc?.sample_rate)},u.sampleRand),l=new Gt({...e,attributes:{[G]:"custom",[Un]:f!==void 0&&p?f:void 0,...c},sampled:d});return!d&&r&&r.recordDroppedEvent("sample_rate","transaction"),r&&r.emit("spanStart",l),l}function ya(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Us]?!1:$e(e),o=i?new Gt({...n,parentSpanId:r,traceId:s,sampled:i}):new ue({traceId:s});Ls(e,o);const a=S();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function qs(e,t){if(t)return t;if(t===null)return;const n=Pt(e);if(!n)return;const r=S();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?F(n):n}function Ea(e){return e!==void 0?t=>Gn(e,t):t=>t()}const vt={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Ta="heartbeatFailed",ba="idleTimeout",Ia="finalTimeout",va="externalFinish";function Ws(e,t={}){const n=new Map;let r=!1,s,i=va,o=!t.disableAutoFinish;const a=[],{idleTimeout:c=vt.idleTimeout,finalTimeout:u=vt.finalTimeout,childSpanTimeout:d=vt.childSpanTimeout,beforeSpanEnd:f}=t,p=S();if(!p||!ae()){const y=new ue,P={sample_rate:"0",sampled:"false",...ce(y)};return It(y,P),y}const l=T(),m=U(),g=Ra(e);g.end=new Proxy(g.end,{apply(y,P,Ce){if(f&&f(g),P instanceof ue)return;const[We,...we]=Ce,he=We||N(),O=Se(he),ee=bt(g).filter(x=>x!==g);if(!ee.length)return ft(O),Reflect.apply(y,P,[O,...we]);const te=ee.map(x=>b(x).timestamp).filter(x=>!!x),I=te.length?Math.max(...te):void 0,w=b(g).start_timestamp,v=Math.min(w?w+u/1e3:1/0,Math.max(w||-1/0,Math.min(O,I||1/0)));return ft(v),Reflect.apply(y,P,[v,...we])}});function R(){s&&(clearTimeout(s),s=void 0)}function X(y){R(),s=setTimeout(()=>{!r&&n.size===0&&o&&(i=ba,g.end(y))},c)}function me(y){s=setTimeout(()=>{!r&&o&&(i=Ta,g.end(y))},d)}function Kt(y){R(),n.set(y,!0);const P=N();me(P+d/1e3)}function Jt(y){if(n.has(y)&&n.delete(y),n.size===0){const P=N();X(P+c/1e3)}}function ft(y){r=!0,n.clear(),a.forEach(O=>O()),Pe(l,m);const P=b(g),{start_timestamp:Ce}=P;if(!Ce)return;P.data[Ot]||g.setAttribute(Ot,i),Dn.log(`[Tracing] Idle span "${P.op}" finished`);const we=bt(g).filter(O=>O!==g);let he=0;we.forEach(O=>{O.isRecording()&&(O.setStatus({code:A,message:"cancelled"}),O.end(y));const ee=b(O),{timestamp:te=0,start_timestamp:I=0}=ee,w=I<=y,v=(u+c)/1e3;(!(te-I<=v)||!w)&&(zo(g,O),he++)}),he>0&&g.setAttribute("sentry.idle_span_discarded_spans",he)}return a.push(p.on("spanStart",y=>{if(r||y===g||b(y).timestamp||y instanceof Gt&&y.isStandaloneSpan())return;bt(g).includes(y)&&Kt(y.spanContext().spanId)})),a.push(p.on("spanEnd",y=>{r||Jt(y.spanContext().spanId)})),a.push(p.on("idleSpanEnableAutoFinish",y=>{y===g&&(o=!0,X(),n.size&&me())})),t.disableAutoFinish||X(),setTimeout(()=>{r||(g.setStatus({code:A,message:"deadline_exceeded"}),i=Ia,g.end())},u),g}function Ra(e){const t=Be(e);return Pe(T(),t),t}const nn=0,wr=1,Nr=2;function Ie(e){return new de(t=>{t(e)})}function Lt(e){return new de((t,n)=>{n(e)})}class de{constructor(t){this._state=nn,this._handlers=[],this._runExecutor(t)}then(t,n){return new de((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new de((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}_executeHandlers(){if(this._state===nn)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===wr&&n[1](this._value),this._state===Nr&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(i,o)=>{if(this._state===nn){if(tt(o)){o.then(r,s);return}this._state=i,this._value=o,this._executeHandlers()}},r=i=>{n(wr,i)},s=i=>{n(Nr,i)};try{t(r,s)}catch(i){s(i)}}}function bn(e,t,n,r=0){return new de((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);tt(a)?a.then(c=>bn(e,c,n,r+1).then(s)).then(null,i):bn(e,a,n,r+1).then(s).then(null,i)}})}function ka(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;Aa(e,t),r&&Na(e,r),Pa(e,n),Ca(e,s),wa(e,i)}function Pr(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:p,transactionName:l,span:m}=t;pt(e,"extra",n),pt(e,"tags",r),pt(e,"user",s),pt(e,"contexts",i),e.sdkProcessingMetadata=rt(e.sdkProcessingMetadata,a,2),o&&(e.level=o),l&&(e.transactionName=l),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...p}}function pt(e,t,n){e[t]=rt(e[t],n,1)}function Aa(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function Ca(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function wa(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Na(e,t){e.contexts={trace:jo(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:ce(t),...e.sdkProcessingMetadata};const n=F(t),r=b(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Pa(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let mt,Or,ht;function Oa(e){const t=E._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return ht&&n.length===Or||(Or=n.length,ht=n.reduce((r,s)=>{mt||(mt={});const i=mt[s];if(i)r[i[0]]=i[1];else{const o=e(s);for(let a=o.length-1;a>=0;a--){const u=o[a]?.filename,d=t[s];if(u&&d){r[u]=d,mt[s]=[u,d];break}}}return r},{})),ht}function xa(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||j(),timestamp:t.timestamp||ke()},u=n.integrations||e.integrations.map(R=>R.name);La(c,e),Fa(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&Ma(c,e.stackParser);const d=$a(r,n.captureContext);n.mechanism&&ie(c,n.mechanism);const f=s?s.getEventProcessors():[],p=To().getScopeData();if(i){const R=i.getScopeData();Pr(p,R)}if(d){const R=d.getScopeData();Pr(p,R)}const l=[...n.attachments||[],...p.attachments];l.length&&(n.attachments=l),ka(c,p);const m=[...f,...p.eventProcessors];return bn(m,c,n).then(R=>(R&&Da(R),typeof o=="number"&&o>0?Ha(R,o,a):R))}function La(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;e.environment=e.environment||n||Wn,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const o=e.request;o?.url&&(o.url=wt(o.url,i))}function Ma(e,t){const n=Oa(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.filename&&(s.debug_id=n[s.filename])})})}function Da(e){const t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function Fa(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Ha(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:Y(s.data,t,n)}}))},...e.user&&{user:Y(e.user,t,n)},...e.contexts&&{contexts:Y(e.contexts,t,n)},...e.extra&&{extra:Y(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Y(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>({...s,...s.data&&{data:Y(s.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=Y(e.contexts.flags,3,n)),r}function $a(e,t){if(!t)return e;const n=e?e.clone():new V;return n.update(t),n}function Ua(e){if(e)return Ba(e)?{captureContext:e}:qa(e)?{captureContext:e}:e}function Ba(e){return e instanceof V||typeof e=="function"}const ja=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function qa(e){return Object.keys(e).some(t=>ja.includes(t))}function Vn(e,t){return T().captureException(e,Ua(t))}function xr(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return T().captureMessage(e,n,r)}function zt(e,t){return T().captureEvent(e,t)}function Wa(e,t){Q().setContext(e,t)}function Ga(){return Q().lastEventId()}function za(){const e=S();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function Lr(e){const t=Q(),n=T(),{userAgent:r}=E.navigator||{},s=fo({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&Ne(i,{status:"exited"}),Gs(),t.setSession(s),s}function Gs(){const e=Q(),n=T().getSession()||e.getSession();n&&lo(n),zs(),e.setSession()}function zs(){const e=Q(),t=S(),n=e.getSession();n&&t&&t.captureSession(n)}function Mr(e=!1){if(e){Gs();return}zs()}const Va="7";function Vs(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Xa(e){return`${Vs(e)}${e.projectId}/envelope/`}function Ya(e,t){const n={sentry_version:Va};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Ka(e,t,n){return t||`${Xa(e)}?${Ya(e,n)}`}function Ja(e,t){const n=Cs(e);if(!n)return"";const r=`${Vs(n)}embed/error-page/`;let s=`dsn=${He(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const Dr=[];function Za(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Qa(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return Za(r)}function ec(e,t){const n={};return t.forEach(r=>{r&&Xs(e,r,n)}),n}function Fr(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function Xs(e,t,n){if(!n[t.name]){if(n[t.name]=t,Dr.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Dr.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}}}function tc(e,t,n){const r=[{type:"client_report"},{timestamp:ke(),discarded_events:e}];return Ue(t?{dsn:t}:{},[r])}function nc(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function rc(e){const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:i,data:o,op:a}=e.contexts?.trace??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:o?.[Bn],exclusive_time:o?.[Fe],measurements:e.measurements,is_segment:!0}}function sc(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Bn]:e.profile_id},...e.exclusive_time&&{[Fe]:e.exclusive_time}}}},measurements:e.measurements}}const Ys=Symbol.for("SentryInternalError"),Ks=Symbol.for("SentryDoNotSendEventError");function Rt(e){return{message:e,[Ys]:!0}}function rn(e){return{message:e,[Ks]:!0}}function ic(e){return!!e&&typeof e=="object"&&Ys in e}function oc(e){return!!e&&typeof e=="object"&&Ks in e}class ac{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn&&(this._dsn=Cs(t.dsn)),this._dsn){const n=Ka(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const s=j();if(mr(t))return s;const i={event_id:s,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,s){const i={event_id:j(),...r},o=Fn(t)?t:String(t),a=Ke(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,s))),i.event_id}captureEvent(t,n,r){const s=j();if(n?.originalException&&mr(n.originalException))return s;const i={event_id:s,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,c=o.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),Ne(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):Ie(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Xs(this,t,this._integrations),n||Fr(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=da(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Qo(r,ra(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const{release:n,environment:r=Wn}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!n)return;i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n)return;t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=ua(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>n):Ie({})}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=ec(this,t),Fr(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception?.values;if(i){s=!0;for(const c of i)if(c.mechanism?.handled===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Ne(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new de(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,t&&r>=t&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o?.length&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),xa(i,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:bo(r),...a.contexts};const c=Fs(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=T(),s=Q()){return this._processEvent(t,n,r,s).then(i=>i.event_id,i=>{})}_processEvent(t,n,r,s){const i=this.getOptions(),{sampleRate:o}=i,a=Zs(t),c=Js(t),u=t.type||"error",d=`before send for type \`${u}\``,f=typeof o>"u"?void 0:Ze(o);if(c&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error"),Lt(rn(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const p=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,s).then(l=>{if(l===null)throw this.recordDroppedEvent("event_processor",p),rn("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return l;const g=uc(this,i,l,n);return cc(g,d)}).then(l=>{if(l===null){if(this.recordDroppedEvent("before_send",p),a){const X=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",X)}throw rn(`${d} returned \`null\`, will not send event.`)}const m=r.getSession()||s.getSession();if(c&&m&&this._updateSessionFromEvent(m,l),a){const R=l.sdkProcessingMetadata?.spanCountBeforeProcessing||0,X=l.spans?l.spans.length:0,me=R-X;me>0&&this.recordDroppedEvent("before_send","span",me)}const g=l.transaction_info;if(a&&g&&l.transaction!==t.transaction){const R="custom";l.transaction_info={...g,source:R}}return this.sendEvent(l,n),l}).then(null,l=>{throw oc(l)||ic(l)?l:(this.captureException(l,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:l}),Rt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${l}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0||!this._dsn)return;const n=tc(t,this._options.tunnel&&He(this._dsn));this.sendEnvelope(n)}}function cc(e,t){const n=`${t} must return \`null\` or a valid event.`;if(tt(e))return e.then(r=>{if(!Je(r)&&r!==null)throw Rt(n);return r},r=>{throw Rt(`${t} rejected with ${r}`)});if(!Je(e)&&e!==null)throw Rt(n);return e}function uc(e,t,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o,ignoreSpans:a}=t;let c=n;if(Js(c)&&s)return s(c,r);if(Zs(c)){if(o||a){const u=rc(c);if(a?.length&&Tn(u,a))return null;if(o){const d=o(u);d?c=rt(n,sc(d)):Sn()}if(c.spans){const d=[],f=c.spans;for(const l of f){if(a?.length&&Tn(l,a)){oa(f,l);continue}if(o){const m=o(l);m?d.push(m):(Sn(),d.push(l))}else d.push(l)}const p=c.spans.length-d.length;p&&e.recordDroppedEvent("before_send","span",p),c.spans=d}}if(i){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,r)}}return c}function Js(e){return e.type===void 0}function Zs(e){return e.type==="transaction"}function dc(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function fc(e,t,n,r){const s={};return t?.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=He(r)),Ue(s,[dc(e)])}function sn(e,t){const n=lc(e)??[];if(n.length===0)return;const r=e.getOptions(),s=fc(n,r._metadata,r.tunnel,e.getDsn());Qs().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function lc(e){return Qs().get(e)}function Qs(){return Bt("clientToLogBufferMap",()=>new WeakMap)}function pc(e,t){t.debug===!0&&jt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}),T().update(t.initialScope);const r=new e(t);return mc(r),r.init(),r}function mc(e){T().setClient(e)}const ei=Symbol.for("SentryBufferFullError");function hc(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function s(o){if(!n())return Lt(ei);const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new de((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(f=>{Ie(f).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:s,drain:i}}const gc=60*1e3;function _c(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?gc:r-t}function Sc(e,t){return e[t]||e.all||0}function yc(e,t,n=Date.now()){return Sc(e,t)>n}function Ec(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n?.["x-sentry-rate-limits"],o=n?.["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,d]=a.split(":",5),f=parseInt(c,10),p=(isNaN(f)?60:f)*1e3;if(!u)s.all=r+p;else for(const l of u.split(";"))l==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[l]=r+p):s[l]=r+p}else o?s.all=r+_c(o,r):t===429&&(s.all=r+60*1e3);return s}const Tc=64;function bc(e,t,n=hc(e.bufferSize||Tc)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(br(o,(f,p)=>{const l=Ir(p);yc(r,l)?e.recordDroppedEvent("ratelimit_backoff",l):a.push(f)}),a.length===0)return Ie({});const c=Ue(o[0],a),u=f=>{br(c,(p,l)=>{e.recordDroppedEvent(f,Ir(l))})},d=()=>t({body:ea(c)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300),r=Ec(r,f),f),f=>{throw u("network_error"),f});return n.add(d).then(f=>f,f=>{if(f===ei)return u("queue_overflow"),Ie({});throw f})}return{send:i,flush:s}}function Ic(e,t){const n=t?.getDsn(),r=t?.getOptions().tunnel;return Rc(e,n)||vc(e,r)}function vc(e,t){return t?Hr(e)===Hr(t):!1}function Rc(e,t){return t?e.includes(t.host):!1}function Hr(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function kc(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function Ac(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function ti(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:_e})),version:_e}),e._metadata=s}function ni(e={}){const t=e.client||S();if(!za()||!t)return{};const n=Re(),r=De(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||T(),i=e.span||U(),o=i?qo(i):Cc(s),a=i?ce(i):Fs(t,s),c=wo(a);return ws.test(o)?{"sentry-trace":o,baggage:c}:(Dn.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function Cc(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Ns(t,r,n)}const wc=100;function ve(e,t){const n=S(),r=Q();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=wc}=n.getOptions();if(i<=0)return;const a={timestamp:ke(),...e},c=s?jt(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}let $r;const Nc="FunctionToString",Ur=new WeakMap,Pc=()=>({name:Nc,setupOnce(){$r=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=$n(this),n=Ur.has(S())&&t!==void 0?t:this;return $r.apply(n,e)}}catch{}},setup(e){Ur.set(e,!0)}}),Oc=Pc,xc=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Lc="EventFilters",Mc=(e={})=>{let t;return{name:Lc,setup(n){const r=n.getOptions();t=Br(e,r)},processEvent(n,r,s){if(!t){const i=s.getOptions();t=Br(e,i)}return Fc(n,t)?null:n}}},Dc=(e={})=>({...Mc(e),name:"InboundFilters"});function Br(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:xc],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function Fc(e,t){if(e.type){if(e.type==="transaction"&&$c(e,t.ignoreTransactions))return!0}else if(Hc(e,t.ignoreErrors)||qc(e)||Uc(e,t.denyUrls)||!Bc(e,t.allowUrls))return!0;return!1}function Hc(e,t){return t?.length?nc(e).some(n=>se(n,t)):!1}function $c(e,t){if(!t?.length)return!1;const n=e.transaction;return n?se(n,t):!1}function Uc(e,t){if(!t?.length)return!1;const n=ri(e);return n?se(n,t):!1}function Bc(e,t){if(!t?.length)return!0;const n=ri(e);return n?se(n,t):!0}function jc(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function ri(e){try{const n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?jc(n):null}catch{return null}}function qc(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Wc(e,t,n,r,s,i){if(!s.exception?.values||!i||!J(i.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=In(e,t,r,i.originalException,n,s.exception.values,o,0))}function In(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(J(r[s],Error)){jr(o,a);const u=e(t,r[s]),d=c.length;qr(u,s,d,a),c=In(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(J(u,Error)){jr(o,a);const f=e(t,u),p=c.length;qr(f,`errors[${d}]`,p,a),c=In(e,t,n,u,s,[f,...c],f,p)}}),c}function jr(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function qr(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function si(e){const t="console";le(t,e),pe(t,Gc)}function Gc(){"console"in E&&as.forEach(function(e){e in E.console&&D(E.console,e,function(t){return Ct[e]=t,function(...n){B("console",{args:n,level:e}),Ct[e]?.apply(E.console,n)}})})}function ii(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const zc="CaptureConsole",Vc=(e={})=>{const t=e.levels||as,n=e.handled??!0;return{name:zc,setup(r){"console"in E&&si(({args:s,level:i})=>{S()!==r||!t.includes(i)||Xc(s,i,n)})}}},Pl=Vc;function Xc(e,t,n){const r={level:ii(t),extra:{arguments:e}};Ae(s=>{if(s.addEventProcessor(a=>(a.logger="console",ie(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){const a=`Assertion failed: ${Nt(e.slice(1)," ")||"console.assert"}`;s.setExtra("arguments",e.slice(1)),xr(a,r)}return}const i=e.find(a=>a instanceof Error);if(i){Vn(i,r);return}const o=Nt(e," ");xr(o,r)})}const Yc="Dedupe",Kc=()=>{let e;return{name:Yc,processEvent(t){if(t.type)return t;try{if(Zc(t,e))return Bi&&Dn.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Jc=Kc;function Zc(e,t){return t?!!(Qc(e,t)||eu(e,t)):!1}function Qc(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ai(e,t)||!oi(e,t))}function eu(e,t){const n=Wr(t),r=Wr(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ai(e,t)||!oi(e,t))}function oi(e,t){let n=ur(e),r=ur(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function ai(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Wr(e){return e.exception?.values?.[0]}const tu="thismessage:/";function ci(e){return"isRelative"in e}function ui(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?tu:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function nu(e){if(ci(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Ee(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function ru(e){return e.split(/[?#]/,1)[0]}function su(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;const{method:i,url:o}=e.fetchData,a=ae()&&t(o);if(e.endTimestamp&&a){const f=e.fetchData.__span;if(!f)return;const p=r[f];p&&(ou(p,e),delete r[f]);return}const c=!!U(),u=a&&c?Be(cu(o,i,s)):new ue;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){const f=e.args[0],p=e.args[1]||{},l=iu(f,p,ae()&&c?u:void 0);l&&(e.args[1]=p,p.headers=l)}const d=S();if(d){const f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",u,f)}return u}function iu(e,t,n){const r=ni({span:n}),s=r["sentry-trace"],i=r.baggage;if(!s)return;const o=t.headers||(hs(e)?e.headers:void 0);if(o)if(au(o)){const a=new Headers(o);if(a.get("sentry-trace")||a.set("sentry-trace",s),i){const c=a.get("baggage");c?gt(c)||a.set("baggage",`${c},${i}`):a.set("baggage",i)}return a}else if(Array.isArray(o)){const a=[...o];o.find(u=>u[0]==="sentry-trace")||a.push(["sentry-trace",s]);const c=o.find(u=>u[0]==="baggage"&&gt(u[1]));return i&&!c&&a.push(["baggage",i]),a}else{const a="sentry-trace"in o?o["sentry-trace"]:void 0,c="baggage"in o?o.baggage:void 0,u=c?Array.isArray(c)?[...c]:[c]:[],d=c&&(Array.isArray(c)?c.find(f=>gt(f)):gt(c));return i&&!d&&u.push(i),{...o,"sentry-trace":a??s,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function ou(e,t){if(t.response){Is(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:A,message:"internal_error"});e.end()}function gt(e){return e.split(",").some(t=>t.trim().startsWith(jn))}function au(e){return typeof Headers<"u"&&J(e,Headers)}function cu(e,t,n){const r=ui(e);return{name:r?`${t} ${nu(r)}`:t,attributes:uu(e,r,t,n)}}function uu(e,t,n,r){const s={url:e,type:"fetch","http.method":n,[C]:r,[Z]:"http.client"};return t&&(ci(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function di(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Qe=E;function du(){return"history"in Qe&&!!Qe.history}function fu(){if(!("fetch"in Qe))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function vn(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function fi(){if(typeof EdgeRuntime=="string")return!0;if(!fu())return!1;if(vn(Qe.fetch))return!0;let e=!1;const t=Qe.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=vn(n.contentWindow.fetch)),t.head.removeChild(n)}catch{}return e}function Xn(e,t){const n="fetch";le(n,e),pe(n,()=>li(void 0,t))}function lu(e){const t="fetch-body-resolved";le(t,e),pe(t,()=>li(mu))}function li(e,t=!1){t&&!fi()||D(E,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:o}=hu(r),a={args:r,fetchData:{method:i,url:o},startTimestamp:N()*1e3,virtualError:s,headers:gu(r)};return e||B("fetch",{...a}),n.apply(E,r).then(async c=>(e?e(c):B("fetch",{...a,endTimestamp:N()*1e3,response:c}),c),c=>{if(B("fetch",{...a,endTimestamp:N()*1e3,error:c}),qt(c)&&c.stack===void 0&&(c.stack=s.stack,H(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function pu(e,t){if(e?.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(o)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function mu(e){let t;try{t=e.clone()}catch{return}pu(t,()=>{B("fetch-body-resolved",{endTimestamp:N()*1e3,response:e})})}function Rn(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Gr(e){return typeof e=="string"?e:e?Rn(e,"url")?e.url:e.toString?e.toString():"":""}function hu(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Gr(n),method:Rn(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Gr(t),method:Rn(t,"method")?String(t.method).toUpperCase():"GET"}}function gu(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(hs(t))return new Headers(t.headers)}catch{}}function _u(){return"npm"}const _=E;let kn=0;function pi(){return kn>0}function Su(){kn++,setTimeout(()=>{kn--})}function xe(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if($n(e))return e}catch{return e}const r=function(...s){try{const i=s.map(o=>xe(o,t));return e.apply(this,i)}catch(i){throw Su(),Ae(o=>{o.addEventProcessor(a=>(t.mechanism&&(hn(a,void 0),ie(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Vn(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}_s(r,e),H(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Yn(){const e=nt(),{referrer:t}=_.document||{},{userAgent:n}=_.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function Kn(e,t){const n=Jn(e,t),r={type:Iu(t),value:vu(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function yu(e,t,n,r){const i=S()?.getOptions().normalizeDepth,o=wu(t),a={__serialized__:Hs(t,i)};if(o)return{exception:{values:[Kn(e,o)]},extra:a};const c={exception:{values:[{type:Wt(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Au(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=Jn(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function on(e,t){return{exception:{values:[Kn(e,t)]}}}function Jn(e,t){const n=t.stacktrace||t.stack||"",r=Tu(t),s=bu(t);try{return e(n,r,s)}catch{}return[]}const Eu=/Minified React error #\d+;/i;function Tu(e){return e&&Eu.test(e.message)?1:0}function bu(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function mi(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Iu(e){const t=e?.name;return!t&&mi(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function vu(e){const t=e?.message;return mi(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Ru(e,t,n,r){const s=n?.syntheticException||void 0,i=Zn(e,t,s,r);return ie(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),Ie(i)}function ku(e,t,n="info",r,s){const i=r?.syntheticException||void 0,o=An(e,t,i,s);return o.level=n,r?.event_id&&(o.event_id=r.event_id),Ie(o)}function Zn(e,t,n,r,s){let i;if(ps(t)&&t.error)return on(e,t.error);if(fr(t)||Zi(t)){const o=t;if("stack"in t)i=on(e,t);else{const a=o.name||(fr(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=An(e,c,n,r),hn(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return qt(t)?on(e,t):Je(t)||Wt(t)?(i=yu(e,t,n,s),ie(i,{synthetic:!0}),i):(i=An(e,t,n,r),hn(i,`${t}`),ie(i,{synthetic:!0}),i)}function An(e,t,n,r){const s={};if(r&&n){const i=Jn(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),ie(s,{synthetic:!0})}if(Fn(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function Au(e,{isUnhandledRejection:t}){const n=so(e),r=t?"promise rejection":"exception";return ps(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Wt(e)?`Event \`${Cu(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Cu(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function wu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}const Nu=5e3;class Pu extends ac{constructor(t){const n=Ou(t),r=_.SENTRY_SDK_SOURCE||_u();ti(n,"browser",["browser"],r),super(n);const{sendDefaultPii:s,sendClientReports:i,enableLogs:o}=this._options;_.document&&(i||o)&&_.document.addEventListener("visibilitychange",()=>{_.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),o&&sn(this))}),o&&(this.on("flush",()=>{sn(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{sn(this)},Nu)})),s&&(this.on("postprocessEvent",kc),this.on("beforeSendSession",Ac))}eventFromException(t,n){return Ru(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return ku(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function Ou(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:_.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const h=E,xu=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",at=(e,t,n,r)=>{let s,i;return o=>{t.value>=0&&(o||r)&&(i=t.value-(s??0),(i||s===void 0)&&(s=t.value,t.delta=i,t.rating=xu(t.value,n),e(t)))}},Lu=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,ct=(e=!0)=>{const t=h.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},je=()=>ct()?.activationStart??0,ut=(e,t=-1)=>{const n=ct();let r="navigate";return n&&(h.document?.prerendering||je()>0?r="prerender":h.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:Lu(),navigationType:r}},an=new WeakMap;function Qn(e,t){return an.get(e)||an.set(e,new t),an.get(e)}class Mt{constructor(){Mt.prototype.__init.call(this),Mt.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const qe=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},er=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Xe=-1;const Mu=()=>h.document?.visibilityState==="hidden"&&!h.document?.prerendering?0:1/0,Dt=e=>{h.document.visibilityState==="hidden"&&Xe>-1&&(Xe=e.type==="visibilitychange"?e.timeStamp:0,Fu())},Du=()=>{addEventListener("visibilitychange",Dt,!0),addEventListener("prerenderingchange",Dt,!0)},Fu=()=>{removeEventListener("visibilitychange",Dt,!0),removeEventListener("prerenderingchange",Dt,!0)},tr=()=>{if(h.document&&Xe<0){const e=je();Xe=(h.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??Mu(),Du()}return{get firstHiddenTime(){return Xe}}},Vt=e=>{h.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Hu=[1800,3e3],$u=(e,t={})=>{Vt(()=>{const n=tr(),r=ut("FCP");let s;const o=qe("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-je(),0),r.entries.push(c),s(!0)))});o&&(s=at(e,r,Hu,t.reportAllChanges))})},Uu=[.1,.25],Bu=(e,t={})=>{$u(er(()=>{const n=ut("CLS",0);let r;const s=Qn(t,Mt),i=a=>{for(const c of a)s._processEntry(c);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,r())},o=qe("layout-shift",i);o&&(r=at(e,n,Uu,t.reportAllChanges),h.document?.addEventListener("visibilitychange",()=>{h.document?.visibilityState==="hidden"&&(i(o.takeRecords()),r(!0))}),h?.setTimeout?.(r))}))};let hi=0,cn=1/0,_t=0;const ju=e=>{e.forEach(t=>{t.interactionId&&(cn=Math.min(cn,t.interactionId),_t=Math.max(_t,t.interactionId),hi=_t?(_t-cn)/7+1:0)})};let Cn;const gi=()=>Cn?hi:performance.interactionCount||0,qu=()=>{"interactionCount"in performance||Cn||(Cn=qe("event",ju,{type:"event",buffered:!0,durationThreshold:0}))},un=10;let _i=0;const Wu=()=>gi()-_i;class Ft{constructor(){Ft.prototype.__init.call(this),Ft.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){_i=gi(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(Wu()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<un||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((s,i)=>i._latency-s._latency),this._longestInteractionList.length>un){const s=this._longestInteractionList.splice(un);for(const i of s)this._longestInteractionMap.delete(i.id)}this._onAfterProcessingINPCandidate?.(r)}}}const nr=e=>{const t=n=>{(n.type==="pagehide"||h.document?.visibilityState==="hidden")&&e(n)};h.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Si=e=>{const t=h.requestIdleCallback||h.setTimeout;h.document?.visibilityState==="hidden"?e():(e=er(e),t(e),nr(e))},Gu=[200,500],zu=40,Vu=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Vt(()=>{qu();const n=ut("INP");let r;const s=Qn(t,Ft),i=a=>{Si(()=>{for(const u of a)s._processEntry(u);const c=s._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},o=qe("event",i,{durationThreshold:t.durationThreshold??zu});r=at(e,n,Gu,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),nr(()=>{i(o.takeRecords()),r(!0)}))})};class Xu{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const Yu=[2500,4e3],Ku=(e,t={})=>{Vt(()=>{const n=tr(),r=ut("LCP");let s;const i=Qn(t,Xu),o=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-je(),0),r.entries=[u],s())},a=qe("largest-contentful-paint",o);if(a){s=at(e,r,Yu,t.reportAllChanges);const c=er(()=>{o(a.takeRecords()),a.disconnect(),s(!0)});for(const u of["keydown","click","visibilitychange"])h.document&&addEventListener(u,()=>Si(c),{capture:!0,once:!0})}})},Ju=[800,1800],wn=e=>{h.document?.prerendering?Vt(()=>wn(e)):h.document?.readyState!=="complete"?addEventListener("load",()=>wn(e),!0):setTimeout(e)},Zu=(e,t={})=>{const n=ut("TTFB"),r=at(e,n,Ju,t.reportAllChanges);wn(()=>{const s=ct();s&&(n.value=Math.max(s.responseStart-je(),0),n.entries=[s],r(!0))})},Ye={},Ht={};let yi,Ei,Ti,bi;function Ii(e,t=!1){return Xt("cls",e,td,yi,t)}function vi(e,t=!1){return Xt("lcp",e,nd,Ei,t)}function Qu(e){return Xt("ttfb",e,rd,Ti)}function ed(e){return Xt("inp",e,sd,bi)}function Le(e,t){return Ri(e,t),Ht[e]||(id(e),Ht[e]=!0),ki(e,t)}function dt(e,t){const n=Ye[e];if(n?.length)for(const r of n)try{r(t)}catch{}}function td(){return Bu(e=>{dt("cls",{metric:e}),yi=e},{reportAllChanges:!0})}function nd(){return Ku(e=>{dt("lcp",{metric:e}),Ei=e},{reportAllChanges:!0})}function rd(){return Zu(e=>{dt("ttfb",{metric:e}),Ti=e})}function sd(){return Vu(e=>{dt("inp",{metric:e}),bi=e})}function Xt(e,t,n,r,s=!1){Ri(e,t);let i;return Ht[e]||(i=n(),Ht[e]=!0),r&&t({metric:r}),ki(e,t,s?i:void 0)}function id(e){const t={};e==="event"&&(t.durationThreshold=0),qe(e,n=>{dt(e,{entries:n})},t)}function Ri(e,t){Ye[e]=Ye[e]||[],Ye[e].push(t)}function ki(e,t,n){return()=>{n&&n();const r=Ye[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function od(e){return"duration"in e}function dn(e){return typeof e=="number"&&isFinite(e)}function fe(e,t,n,{...r}){const s=b(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Gn(e,()=>{const i=Be({startTime:t,...r});return i&&i.end(n),i})}function rr(e){const t=S();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:i}=e,{release:o,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),f=T(),p=f.getUser(),l=p!==void 0?p.email||p.id||p.ip_address:void 0;let m;try{m=f.getScopeData().contexts.profile.profile_id}catch{}const g={release:o,environment:a,user:l||void 0,profile_id:m||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":h.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...s};return Be({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function Yt(){return h.addEventListener&&h.performance}function k(e){return e/1e3}function Ai(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function Ci(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function wi(e,t){let n,r=!1;function s(a){!r&&n&&t(a,n),r=!0}nr(()=>{s("pagehide")});const i=e.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(s("navigation"),zr(i,o))}),o=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,zr(o)})}function zr(...e){e.forEach(t=>t&&setTimeout(t,0))}function ad(e){let t=0,n;if(!Ci("layout-shift"))return;const r=Ii(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);wi(e,(s,i)=>{cd(t,n,i,s),r()})}function cd(e,t,n,r){const s=k(($()||0)+(t?.startTime||0)),i=T().getScopeData().transactionName,o=t?z(t.sources[0]?.node):"Layout shift",a={[C]:"auto.http.browser.cls",[Z]:"ui.webvital.cls",[Fe]:t?.duration||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,d)=>{a[`cls.source.${d+1}`]=z(u.node)});const c=rr({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("cls",{[it]:"",[ot]:e}),c.end(s))}function ud(e){let t=0,n;if(!Ci("largest-contentful-paint"))return;const r=vi(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);wi(e,(s,i)=>{dd(t,n,i,s),r()})}function dd(e,t,n,r){const s=k(($()||0)+(t?.startTime||0)),i=T().getScopeData().transactionName,o=t?z(t.element):"Largest contentful paint",a={[C]:"auto.http.browser.lcp",[Z]:"ui.webvital.lcp",[Fe]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=z(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=rr({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("lcp",{[it]:"millisecond",[ot]:e}),c.end(s))}const fd=2147483647;let Vr=0,q={},L,$t;function ld({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=Yt();if(r&&$()){r.mark&&h.performance.mark("sentry-tracing-init");const s=t?ud(n):_d(),i=Sd(),o=e?ad(n):gd();return()=>{s?.(),i(),o?.()}}return()=>{}}function pd(){Le("longtask",({entries:e})=>{const t=U();if(!t)return;const{op:n,start_timestamp:r}=b(t);for(const s of e){const i=k($()+s.startTime),o=k(s.duration);n==="navigation"&&r&&i<r||fe(t,i,i+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[C]:"auto.ui.browser.metrics"}})}})}function md(){new PerformanceObserver(t=>{const n=U();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=k($()+r.startTime),{start_timestamp:i,op:o}=b(n);if(o==="navigation"&&i&&s<i)continue;const a=k(r.duration),c={[C]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:f,sourceURL:p,sourceFunctionName:l,sourceCharPosition:m}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=f,p&&(c["code.filepath"]=p),l&&(c["code.function"]=l),m!==-1&&(c["browser.script.source_char_position"]=m),fe(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function hd(){Le("event",({entries:e})=>{const t=U();if(t){for(const n of e)if(n.name==="click"){const r=k($()+n.startTime),s=k(n.duration),i={name:z(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[C]:"auto.ui.browser.metrics"}},o=gs(n.target);o&&(i.attributes["ui.component_name"]=o),fe(t,r,r+s,i)}}})}function gd(){return Ii(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(q.cls={value:e.value,unit:""},$t=t)},!0)}function _d(){return vi(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(q.lcp={value:e.value,unit:"millisecond"},L=t)},!0)}function Sd(){return Qu(({metric:e})=>{e.entries[e.entries.length-1]&&(q.ttfb={value:e.value,unit:"millisecond"})})}function yd(e,t){const n=Yt(),r=$();if(!n?.getEntries||!r)return;const s=k(r),i=n.getEntries(),{op:o,start_timestamp:a}=b(e);i.slice(Vr).forEach(c=>{const u=k(c.startTime),d=k(Math.max(0,c.duration));if(!(o==="navigation"&&a&&s+u<a))switch(c.entryType){case"navigation":{bd(e,c,s);break}case"mark":case"paint":case"measure":{Ed(e,c,u,d,s,t.ignorePerformanceApiSpans);const f=tr(),p=c.startTime<f.firstHiddenTime;c.name==="first-paint"&&p&&(q.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(q.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Rd(e,c,c.name,u,d,s,t.ignoreResourceSpans);break}}}),Vr=Math.max(i.length-1,0),kd(e),o==="pageload"&&(Cd(q),t.recordClsOnPageloadSpan||delete q.cls,t.recordLcpOnPageloadSpan||delete q.lcp,Object.entries(q).forEach(([c,u])=>{la(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",je()),Ad(e,t)),L=void 0,$t=void 0,q={}}function Ed(e,t,n,r,s,i){if(["mark","measure"].includes(t.entryType)&&se(t.name,i))return;const o=ct(!1),a=k(o?o.requestStart:0),c=s+Math.max(n,a),u=s+n,d=u+r,f={[C]:"auto.resource.browser.metrics"};c!==u&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=c),Td(f,t),c<=d&&fe(e,c,d,{name:t.name,op:t.entryType,attributes:f})}function Td(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&Ke(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(Ke(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function bd(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{St(e,t,r,n)}),St(e,t,"secureConnection",n,"TLS/SSL"),St(e,t,"fetch",n,"cache"),St(e,t,"domainLookup",n,"DNS"),vd(e,t,n)}function St(e,t,n,r,s=n){const i=Id(n),o=t[i],a=t[`${n}Start`];!a||!o||fe(e,r+k(a),r+k(o),{op:`browser.${s}`,name:t.name,attributes:{[C]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function Id(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function vd(e,t,n){const r=n+k(t.requestStart),s=n+k(t.responseEnd),i=n+k(t.responseStart);t.responseEnd&&(fe(e,r,s,{op:"browser.request",name:t.name,attributes:{[C]:"auto.ui.browser.metrics"}}),fe(e,i,s,{op:"browser.response",name:t.name,attributes:{[C]:"auto.ui.browser.metrics"}}))}function Rd(e,t,n,r,s,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o?.includes(a))return;const c=Ee(n),u={[C]:"auto.resource.browser.metrics"};fn(u,t,"transferSize","http.response_transfer_size"),fn(u,t,"encodedBodySize","http.response_content_length"),fn(u,t,"decodedBodySize","http.decoded_response_content_length");const d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);const f=t.renderBlockingStatus;if(f&&(u["resource.render_blocking_status"]=f),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(h.location.origin),t.nextHopProtocol!=null){const{name:m,version:g}=Ai(t.nextHopProtocol);u["network.protocol.name"]=m,u["network.protocol.version"]=g}const p=i+r,l=p+s;fe(e,p,l,{name:n.replace(h.location.origin,""),op:a,attributes:u})}function kd(e){const t=h.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),dn(n.rtt)&&(q["connection.rtt"]={value:n.rtt,unit:"millisecond"})),dn(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),dn(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Ad(e,t){L&&t.recordLcpOnPageloadSpan&&(L.element&&e.setAttribute("lcp.element",z(L.element)),L.id&&e.setAttribute("lcp.id",L.id),L.url&&e.setAttribute("lcp.url",L.url.trim().slice(0,200)),L.loadTime!=null&&e.setAttribute("lcp.loadTime",L.loadTime),L.renderTime!=null&&e.setAttribute("lcp.renderTime",L.renderTime),e.setAttribute("lcp.size",L.size)),$t?.sources&&t.recordClsOnPageloadSpan&&$t.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,z(n.node)))}function fn(e,t,n,r){const s=t[n];s!=null&&s<fd&&(e[r]=s)}function Cd(e){const t=ct(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function wd(){return Yt()&&$()?Le("element",Nd):()=>{}}const Nd=({entries:e})=>{const t=U(),n=t?F(t):void 0,r=n?b(n).description:T().getScopeData().transactionName;e.forEach(s=>{const i=s;if(!i.identifier)return;const o=i.name,a=i.renderTime,c=i.loadTime,[u,d]=c?[k(c),"load-time"]:a?[k(a),"render-time"]:[N(),"entry-emission"],f=o==="image-paint"?k(Math.max(0,(a??0)-(c??0))):0,p={[C]:"auto.ui.browser.elementtiming",[Z]:"ui.elementtiming",[G]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":i.id,"element.type":i.element?.tagName?.toLowerCase()||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":o};Sa({name:`element[${i.identifier}]`,attributes:p,startTime:u,onlyIfParent:!0},l=>{l.end(u+f)})})},Pd=1e3;let Xr,Nn,Pn;function Od(e){const t="dom";le(t,e),pe(t,xd)}function xd(){if(!h.document)return;const e=B.bind(null,"dom"),t=Yr(e,!0);h.document.addEventListener("click",t,!1),h.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=h[n]?.prototype;s?.hasOwnProperty?.("addEventListener")&&(D(s,"addEventListener",function(i){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const f=Yr(e);d.handler=f,i.call(this,o,f,c)}d.refCount++}catch{}return i.call(this,o,a,c)}}),D(s,"removeEventListener",function(i){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,c)}}))})}function Ld(e){if(e.type!==Nn)return!1;try{if(!e.target||e.target._sentryId!==Pn)return!1}catch{}return!0}function Md(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Yr(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Dd(n);if(Md(n.type,r))return;H(n,"_sentryCaptured",!0),r&&!r._sentryId&&H(r,"_sentryId",j());const s=n.type==="keypress"?"input":n.type;Ld(n)||(e({event:n,name:s,global:t}),Nn=n.type,Pn=r?r._sentryId:void 0),clearTimeout(Xr),Xr=h.setTimeout(()=>{Pn=void 0,Nn=void 0},Pd)}}function Dd(e){try{return e.target}catch{return null}}let yt;function sr(e){const t="history";le(t,e),pe(t,Fd)}function Fd(){if(h.addEventListener("popstate",()=>{const t=h.location.href,n=yt;if(yt=t,n===t)return;B("history",{from:n,to:t})}),!du())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=yt,i=Hd(String(r));if(yt=i,s===i)return t.apply(this,n);B("history",{from:s,to:i})}return t.apply(this,n)}}D(h.history,"pushState",e),D(h.history,"replaceState",e)}function Hd(e){try{return new URL(e,h.location.origin).toString()}catch{return e}}const kt={};function $d(e){const t=kt[e];if(t)return t;let n=h[e];if(vn(n))return kt[e]=n.bind(h);const r=h.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(s)}catch{}return n&&(kt[e]=n.bind(h))}function Kr(e){kt[e]=void 0}const ge="__sentry_xhr_v3__";function ir(e){const t="xhr";le(t,e),pe(t,Ud)}function Ud(){if(!h.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=N()*1e3,o=K(r[0])?r[0].toUpperCase():void 0,a=Bd(r[1]);if(!o||!a)return t.apply(n,r);n[ge]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[ge];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:N()*1e3,startTimestamp:i,xhr:n,virtualError:s};B("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,f){return c(),u.apply(d,f)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,f){const[p,l]=f,m=d[ge];return m&&K(p)&&K(l)&&(m.request_headers[p.toLowerCase()]=l),u.apply(d,f)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[ge];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:N()*1e3,xhr:n};return B("xhr",i),t.apply(n,r)}})}function Bd(e){if(K(e))return e;try{return e.toString()}catch{}}const ln=[],At=new Map,jd=60;function qd(){if(Yt()&&$()){const t=Wd();return()=>{t()}}return()=>{}}const Jr={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Wd(){return ed(Gd)}const Gd=({metric:e})=>{if(e.value==null)return;const t=k(e.value);if(t>jd)return;const n=e.entries.find(m=>m.duration===e.value&&Jr[m.name]);if(!n)return;const{interactionId:r}=n,s=Jr[n.name],i=k($()+n.startTime),o=U(),a=o?F(o):void 0,u=(r!=null?At.get(r):void 0)||a,d=u?b(u).description:T().getScopeData().transactionName,f=z(n.target),p={[C]:"auto.http.browser.inp",[Z]:`ui.interaction.${s}`,[Fe]:n.duration},l=rr({name:f,transaction:d,attributes:p,startTime:i});l&&(l.addEvent("inp",{[it]:"millisecond",[ot]:e.value}),l.end(i+t))};function zd(){const e=({entries:t})=>{const n=U(),r=n&&F(n);t.forEach(s=>{if(!od(s)||!r)return;const i=s.interactionId;if(i!=null&&!At.has(i)){if(ln.length>10){const o=ln.shift();At.delete(o)}ln.push(i),At.set(i,r)}})};Le("event",e),Le("first-input",e)}function Vd(e,t=$d("fetch")){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Kr("fetch"),Lt("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=o,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Kr("fetch"),n-=o,r--,Lt(c)}}return bc(e,s)}const Xd=30,Yd=50;function On(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Te:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Kd=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Jd=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Zd=/\((\S*)(?::(\d+))(?::(\d+))\)/,Qd=/at (.+?) ?\(data:(.+?),/,ef=e=>{const t=e.match(Qd);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=Kd.exec(e);if(n){const[,s,i,o]=n;return On(s,Te,+i,+o)}const r=Jd.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=Zd.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[i,o]=Ni(r[1]||Te,r[2]);return On(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},tf=[Xd,ef],nf=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,rf=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,sf=e=>{const t=nf.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=rf.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||Te;return[s,r]=Ni(s,r),On(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},of=[Yd,sf],af=[tf,of],cf=us(...af),Ni=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Te,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Zr=1024,uf="Breadcrumbs",df=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:uf,setup(n){t.console&&si(mf(n)),t.dom&&Od(pf(n,t.dom)),t.xhr&&ir(hf(n)),t.fetch&&Xn(gf(n)),t.history&&sr(_f(n)),t.sentry&&n.on("beforeSendEvent",lf(n))}}},ff=df;function lf(e){return function(n){S()===e&&ve({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:oo(n)},{event:n})}}function pf(e,t){return function(r){if(S()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Zr&&(a=Zr),typeof o=="string"&&(o=[o]);try{const u=r.event,d=Sf(u)?u.target:u;s=z(d,{keyAttrs:o,maxStringLength:a}),i=gs(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),ve(c,{event:r.event,name:r.name,global:r.global})}}function mf(e){return function(n){if(S()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:ii(n.level),message:Nt(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Nt(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;ve(r,{input:n.args,level:n.level})}}function hf(e){return function(n){if(S()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[ge];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,d={method:o,url:a,status_code:c},f={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},p={category:"xhr",data:d,type:"http",level:di(c)};e.emit("beforeOutgoingRequestBreadcrumb",p,f),ve(p,f)}}function gf(e){return function(n){if(S()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),ve(a,o)}else{const i=n.response,o={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;const a={input:n.args,response:i,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:o,type:"http",level:di(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),ve(c,a)}}}function _f(e){return function(n){if(S()!==e)return;let r=n.from,s=n.to;const i=Ee(_.location.href);let o=r?Ee(r):void 0;const a=Ee(s);o?.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),ve({category:"navigation",data:{from:r,to:s}})}}function Sf(e){return!!e&&!!e.target}const yf=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ef="BrowserApiErrors",Tf=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Ef,setupOnce(){t.setTimeout&&D(_,"setTimeout",Qr),t.setInterval&&D(_,"setInterval",Qr),t.requestAnimationFrame&&D(_,"requestAnimationFrame",If),t.XMLHttpRequest&&"XMLHttpRequest"in _&&D(XMLHttpRequest.prototype,"send",vf);const n=t.eventTarget;n&&(Array.isArray(n)?n:yf).forEach(s=>Rf(s,t))}}},bf=Tf;function Qr(e){return function(...t){const n=t[0];return t[0]=xe(n,{mechanism:{data:{function:be(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function If(e){return function(t){return e.apply(this,[xe(t,{mechanism:{data:{function:"requestAnimationFrame",handler:be(e)},handled:!1,type:"instrument"}})])}}function vf(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&D(n,s,function(i){const o={mechanism:{data:{function:s,handler:be(i)},handled:!1,type:"instrument"}},a=$n(i);return a&&(o.mechanism.data.handler=be(a)),xe(i,o)})}),e.apply(this,t)}}function Rf(e,t){const r=_[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(D(r,"addEventListener",function(s){return function(i,o,a){try{kf(o)&&(o.handleEvent=xe(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:be(o),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&Af(this,i,o),s.apply(this,[i,xe(o,{mechanism:{data:{function:"addEventListener",handler:be(o),target:e},handled:!1,type:"instrument"}}),a])}}),D(r,"removeEventListener",function(s){return function(i,o,a){try{const c=o.__sentry_wrapped__;c&&s.call(this,i,c,a)}catch{}return s.call(this,i,o,a)}}))}function kf(e){return typeof e.handleEvent=="function"}function Af(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const Cf=()=>({name:"BrowserSession",setupOnce(){typeof _.document>"u"||(Lr({ignoreDuration:!0}),Mr(),sr(({from:e,to:t})=>{e!==void 0&&e!==t&&(Lr({ignoreDuration:!0}),Mr())}))}}),wf="GlobalHandlers",Nf=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:wf,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&Of(n),t.onunhandledrejection&&xf(n)}}},Pf=Nf;function Of(e){ds(t=>{const{stackParser:n,attachStacktrace:r}=Pi();if(S()!==e||pi())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=Df(Zn(n,c||s,void 0,r,!1),i,o,a);u.level="error",zt(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function xf(e){fs(t=>{const{stackParser:n,attachStacktrace:r}=Pi();if(S()!==e||pi())return;const s=Lf(t),i=Ke(s)?Mf(s):Zn(n,s,void 0,r,!0);i.level="error",zt(i,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function Lf(e){if(Ke(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Mf(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Df(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,f=Ff(t)??nt();return c.length===0&&c.push({colno:u,filename:f,function:Te,in_app:!0,lineno:d}),e}function Pi(){return S()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function Ff(e){if(!(!K(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e.slice(0,1024)}}const Hf=()=>({name:"HttpContext",preprocessEvent(e){if(!_.navigator&&!_.location&&!_.document)return;const t=Yn(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),$f="cause",Uf=5,Bf="LinkedErrors",jf=(e={})=>{const t=e.limit||Uf,n=e.key||$f;return{name:Bf,preprocessEvent(r,s,i){const o=i.getOptions();Wc(Kn,o.stackParser,n,t,r,s)}}},qf=jf;function Wf(){return!!Gf()}function Gf(){if(typeof _.window>"u")return!1;const e=_;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const n=nt(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(_===_.top&&r.some(i=>n.startsWith(`${i}://`)))}function zf(e){return[Dc(),Oc(),bf(),ff(),Pf(),qf(),Jc(),Hf(),Cf()]}function Vf(e={}){const t=!e.skipBrowserExtensionCheck&&Wf(),n={...e,enabled:t?!1:e.enabled,stackParser:Xi(e.stackParser||cf),integrations:Qa({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?zf():e.defaultIntegrations}),transport:e.transport||Vd};return pc(Pu,n)}function es(e={}){const t=_.document,n=t?.head||t?.body;if(!n)return;const r=T(),i=S()?.getDsn();if(!i)return;const o={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||Ga()},a=_.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=Ja(i,o);const{onLoad:c,onClose:u}=o;if(c&&(a.onload=c),u){const d=f=>{if(f.data==="__sentry_reportdialog_closed__")try{u()}finally{_.removeEventListener("message",d)}};_.addEventListener("message",d)}n.appendChild(a)}const Xf="HttpClient",Yf=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:Xf,setup(n){rl(n,t),sl(n,t)}}},Ol=Yf;function Kf(e,t,n,r,s){if(xi(e,n.status,n.url)){const i=il(t,r);let o,a,c,u;Mi()&&([o,c]=ts("Cookie",i),[a,u]=ts("Set-Cookie",n));const d=Li({url:i.url,method:i.method,status:n.status,requestHeaders:o,responseHeaders:a,requestCookies:c,responseCookies:u,error:s});zt(d)}}function ts(e,t){const n=Qf(t.headers);let r;try{const s=n[e]||n[e.toLowerCase()]||void 0;s&&(r=Oi(s))}catch{}return[n,r]}function Jf(e,t,n,r,s){if(xi(e,t.status,t.responseURL)){let i,o,a;if(Mi()){try{const u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(o=Oi(u))}catch{}try{a=el(t)}catch{}i=r}const c=Li({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:a,responseCookies:o,error:s});zt(c)}}function Zf(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Oi(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return r&&s&&(t[r]=s),t},{})}function Qf(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function el(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return s&&i&&(n[s]=i),n},{}):{}}function tl(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function nl(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function rl(e,t){fi()&&Xn(n=>{if(S()!==e)return;const{response:r,args:s,error:i,virtualError:o}=n,[a,c]=s;r&&Kf(t,a,r,c,i||o)},!1)}function sl(e,t){"XMLHttpRequest"in E&&ir(n=>{if(S()!==e)return;const{error:r,virtualError:s}=n,i=n.xhr,o=i[ge];if(!o)return;const{method:a,request_headers:c}=o;try{Jf(t,i,a,c,r||s)}catch{}})}function xi(e,t,n){return nl(e.failedRequestStatusCodes,t)&&tl(e.failedRequestTargets,n)&&!Ic(n,S())}function Li(e){const t=S(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,s=`HTTP Client Error with status code: ${e.status}`,i={message:s,exception:{values:[{type:"Error",value:s,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:Zf(e.responseHeaders)}}};return ie(i,{type:"http.client",handled:!1}),i}function il(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function Mi(){const e=S();return e?!!e.getOptions().sendDefaultPii:!1}function W(e=0){return(($()||performance.timeOrigin)+e)/1e3}function ol(e){const t=[];if(e.nextHopProtocol!=null){const{name:n,version:r}=Ai(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return $()?[...t,["http.request.redirect_start",W(e.redirectStart)],["http.request.fetch_start",W(e.fetchStart)],["http.request.domain_lookup_start",W(e.domainLookupStart)],["http.request.domain_lookup_end",W(e.domainLookupEnd)],["http.request.connect_start",W(e.connectStart)],["http.request.secure_connection_start",W(e.secureConnectionStart)],["http.request.connection_end",W(e.connectEnd)],["http.request.request_start",W(e.requestStart)],["http.request.response_start",W(e.responseStart)],["http.request.response_end",W(e.responseEnd)]]:t}const ns=new WeakMap,pn=new Map,Di={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function al(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:c}={...Di,...t},u=typeof i=="function"?i:p=>!0,d=p=>ul(p,a),f={};n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(l=>{if(l.op==="http.client"){const m=pn.get(l.span_id);m&&(l.timestamp=m/1e3,pn.delete(l.span_id))}}),p)),s&&lu(p=>{if(p.response){const l=ns.get(p.response);l&&p.endTimestamp&&pn.set(l,p.endTimestamp)}}),Xn(p=>{const l=su(p,u,d,f);if(p.response&&p.fetchData.__span&&ns.set(p.response,p.fetchData.__span),l){const m=Fi(p.fetchData.url),g=m?Ee(m).host:void 0;l.setAttributes({"http.url":m,"server.address":g}),o&&rs(l),c?.(l,{headers:p.headers})}})),r&&ir(p=>{const l=dl(p,u,d,f);if(l){o&&rs(l);let m;try{m=new Headers(p.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(l,{headers:m})}})}function cl(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function rs(e){const{url:t}=b(e).data;if(!t||typeof t!="string")return;const n=Le("resource",({entries:r})=>{r.forEach(s=>{cl(s)&&s.name.endsWith(t)&&(ol(s).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function ul(e,t){const n=nt();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const i=r.origin===s;return t?se(r.toString(),t)||i&&se(r.pathname,t):i}else{const r=!!e.match(/^\/(?!\/)/);return t?se(e,t):r}}function dl(e,t,n,r){const s=e.xhr,i=s?.[ge];if(!s||s.__sentry_own_request__||!i)return;const{url:o,method:a}=i,c=ae()&&t(o);if(e.endTimestamp&&c){const g=s.__sentry_xhr_span_id__;if(!g)return;const R=r[g];R&&i.status_code!==void 0&&(Is(R,i.status_code),R.end(),delete r[g]);return}const u=Fi(o),d=Ee(u||o),f=ru(o),p=!!U(),l=c&&p?Be({name:`${a} ${f}`,attributes:{url:o,type:"xhr","http.method":a,"http.url":u,"server.address":d?.host,[C]:"auto.http.browser",[Z]:"http.client",...d?.search&&{"http.query":d?.search},...d?.hash&&{"http.fragment":d?.hash}}}):new ue;s.__sentry_xhr_span_id__=l.spanContext().spanId,r[s.__sentry_xhr_span_id__]=l,n(o)&&fl(s,ae()&&p?l:void 0);const m=S();return m&&m.emit("beforeOutgoingRequestSpan",l,e),l}function fl(e,t){const{"sentry-trace":n,baggage:r}=ni({span:t});n&&ll(e,n,r)}function ll(e,t,n){const r=e.__sentry_xhr_v3__?.request_headers;if(!r?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),n){const s=r?.baggage;(!s||!pl(s))&&e.setRequestHeader("baggage",n)}}catch{}}function pl(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Fi(e){try{return new URL(e,_.location.origin).href}catch{return}}function ml(){_.document&&_.document.addEventListener("visibilitychange",()=>{const e=U();if(!e)return;const t=F(e);if(_.document.hidden&&t){const n="cancelled",{op:r,status:s}=b(t);s||t.setStatus({code:A,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}})}const hl=3600,Hi="sentry_previous_trace",gl="sentry.previous_trace";function _l(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?El():void 0;e.on("spanStart",o=>{if(F(o)!==o)return;const a=T().getPropagationContext();s=Sl(s,o,a),r&&yl(s)});let i=!0;n&&e.on("beforeSampling",o=>{if(!s)return;const a=T(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(s.sampleRate),sampled:String(xn(s.spanContext))},sampleRand:s.sampleRand}),o.parentSampled=xn(s.spanContext),o.parentSampleRate=s.sampleRate,o.spanAttributes={...o.spanAttributes,[Ts]:s.sampleRate}})}function Sl(e,t,n){const r=b(t);function s(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[Un])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return i;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=hl&&(t.addLink({context:o,attributes:{[Io]:"previous_trace"}}),t.setAttribute(gl,`${o.traceId}-${o.spanId}-${xn(o)?1:0}`)),i)}function yl(e){try{_.sessionStorage.setItem(Hi,JSON.stringify(e))}catch{}}function El(){try{const e=_.sessionStorage?.getItem(Hi);return JSON.parse(e)}catch{return}}function xn(e){return e.traceFlags===1}const Tl="BrowserTracing",bl={...vt,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...Di},xl=(e={})=>{const t={name:void 0,source:void 0},n=_.document,{enableInp:r,enableElementTiming:s,enableLongTask:i,enableLongAnimationFrame:o,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:f,finalTimeout:p,childSpanTimeout:l,markBackgroundSpan:m,traceFetch:g,traceXHR:R,trackFetchStreamPerformance:X,shouldCreateSpanForRequest:me,enableHTTPTimings:Kt,ignoreResourceSpans:Jt,ignorePerformanceApiSpans:ft,instrumentPageLoad:y,instrumentNavigation:P,detectRedirects:Ce,linkPreviousTrace:We,consistentTraceSampling:we,onRequestSpanStart:he}={...bl,...e};let O,ee;function te(I,w,v=!0){const x=w.op==="pageload",M=d?d(w):w,ne=M.attributes||{};if(w.name!==M.name&&(ne[G]="custom",M.attributes=ne),!v){const ze=ke();Be({...M,startTime:ze}).end(ze);return}t.name=M.name,t.source=ne[G];const re=Ws(M,{idleTimeout:f,finalTimeout:p,childSpanTimeout:l,disableAutoFinish:x,beforeSpanEnd:ze=>{O?.(),yd(ze,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:Jt,ignorePerformanceApiSpans:ft}),is(I,void 0);const or=T(),Ui=or.getPropagationContext();or.setPropagationContext({...Ui,traceId:re.spanContext().traceId,sampled:$e(re),dsc:ce(ze)})}});is(I,re);function Ge(){n&&["interactive","complete"].includes(n.readyState)&&I.emit("idleSpanEnableAutoFinish",re)}x&&n&&(n.addEventListener("readystatechange",()=>{Ge()}),Ge())}return{name:Tl,setup(I){if(Vo(),O=ld({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:I}),r&&qd(),s&&wd(),o&&E.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?md():i&&pd(),a&&hd(),Ce&&n){const v=()=>{ee=N()};addEventListener("click",v,{capture:!0}),addEventListener("keydown",v,{capture:!0,passive:!0})}function w(){const v=et(I);v&&!b(v).timestamp&&(v.setAttribute(Ot,"cancelled"),v.end())}I.on("startNavigationSpan",(v,x)=>{if(S()!==I)return;if(x?.isRedirect){te(I,{op:"navigation.redirect",...v},!1);return}ee=void 0,w(),Q().setPropagationContext({traceId:oe(),sampleRand:Math.random()});const M=T();M.setPropagationContext({traceId:oe(),sampleRand:Math.random()}),M.setSDKProcessingMetadata({normalizedRequest:void 0}),te(I,{op:"navigation",...v})}),I.on("startPageLoadSpan",(v,x={})=>{if(S()!==I)return;w();const M=x.sentryTrace||ss("sentry-trace"),ne=x.baggage||ss("baggage"),re=$o(M,ne),Ge=T();Ge.setPropagationContext(re),Ge.setSDKProcessingMetadata({normalizedRequest:Yn()}),te(I,{op:"pageload",...v})})},afterAllSetup(I){let w=nt();if(We!=="off"&&_l(I,{linkPreviousTrace:We,consistentTraceSampling:we}),_.location){if(y){const v=$();Il(I,{name:_.location.pathname,startTime:v?v/1e3:void 0,attributes:{[G]:"url",[C]:"auto.pageload.browser"}})}P&&sr(({to:v,from:x})=>{if(x===void 0&&w?.indexOf(v)!==-1){w=void 0;return}w=void 0;const M=ui(v),ne=et(I),re=ne&&Ce&&kl(ne,ee);vl(I,{name:M?.pathname||_.location.pathname,attributes:{[G]:"url",[C]:"auto.navigation.browser"}},{url:v,isRedirect:re})})}m&&ml(),a&&Rl(I,f,p,l,t),r&&zd(),al(I,{traceFetch:g,traceXHR:R,trackFetchStreamPerformance:X,tracePropagationTargets:I.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:me,enableHTTPTimings:Kt,onRequestSpanStart:he})}}};function Il(e,t,n){e.emit("startPageLoadSpan",t,n),T().setTransactionName(t.name);const r=et(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function vl(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const i=T();return i.setTransactionName(t.name),r&&!s&&i.setSDKProcessingMetadata({normalizedRequest:{...Yn(),url:r}}),et(e)}function ss(e){return _.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function Rl(e,t,n,r,s){const i=_.document;let o;const a=()=>{const c="ui.action.click",u=et(e);if(u){const d=b(u).op;if(["navigation","pageload"].includes(d))return}o&&(o.setAttribute(Ot,"interactionInterrupted"),o.end(),o=void 0),s.name&&(o=Ws({name:s.name,op:c,attributes:{[G]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r}))};i&&addEventListener("click",a,{capture:!0})}const $i="_sentry_idleSpan";function et(e){return e[$i]}function is(e,t){H(e,$i,t)}const os=1.5;function kl(e,t){const n=b(e),r=ke(),s=n.start_timestamp;return!(r-s>os||t&&r-t<=os)}function Ll(e){const t={...e};return ti(t,"react"),Wa("react",{version:Ve.version}),Vf(t)}function Al(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function Cl(e,t){const n=new WeakSet;function r(s,i){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,i);s.cause=i}}r(e,t)}function wl(e,{componentStack:t},n){if(Al(Ve.version)&&qt(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,Cl(e,r)}return Ae(r=>(r.setContext("react",{componentStack:t}),Vn(e,n)))}const mn={componentStack:null,error:null,eventId:null};class Ml extends Ve.Component{constructor(t){super(t),this.state=mn,this._openFallbackReportDialog=!0;const n=S();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&es({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,{beforeCapture:s,onError:i,showDialog:o,dialogOptions:a}=this.props;Ae(c=>{s&&s(c,t,r);const u=this.props.handled!=null?this.props.handled:!!this.props.fallback,d=wl(t,n,{mechanism:{handled:u}});i&&i(t,r,d),o&&(this._lastEventId=d,this._openFallbackReportDialog&&es({...a,eventId:d})),this.setState({error:t,componentStack:r,eventId:d})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&(this.state===mn?s(null,null,null):s(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(mn)}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const s=typeof t=="function"?Ve.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):t;return Ve.isValidElement(s)?s:null}}export{Ml as E,Vn as a,xl as b,Pl as c,Sa as d,Ol as h,Ll as i,Wa as s};
